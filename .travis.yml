sudo: required
language: python
services:
- docker
env:
  global:
    # DOCKER_USER
    - secure: olLWwhhMYWzRZTzSPmErZ65F477S/MLbZsghKw40btY1IjDX9iBfnDRnxcUCSH4Ky332uYH+CVy5sNnqpMq8vje9CCCO4M+uDXF2OZcSRcfBC+Yq3nNyKXdixWC9QsXp0Z1Toys1Hjyjuo7BRFAkfwspFAjbm9tlVC6E29dWEupKWO3fzJ8rYki6GJT7N/gkwb+/XCMue5rqBMUNn53v/ivUx7Obxri2ciJIXXTvi2RrOAYh/sAOsKkaWJHTlMlJSTLUxH/vRs4EX46rHofYe6upRQTkOEeVGDu2lgzVLPQqDcUx0zlM4Kr1/SfAJoRDfmNmBhzLNKPDW55JzmsbjTUX90awFwkpG7QVk2ik/vcPfwkjs9Pqt8r8g966FiAMA+nfCI4wU0qqrcfF4Ku+vgAnEJez9jw+qIPcjSh3gSjjmq0vwkecy3N8WOjjFoyHRedmtmgwaC3SHKhvAKhwaxFPeU3+P11XDtDwo/ADoucbo4bkzAc+npNrFzv29uIGnBCBNQKiyQoFhMHNywYNOOwHxrh9uTEXprHHcVszYdQdEbFL17bAnU9TOcQWkei6LpoR1VG8iymNxSe8vTp4fgaoX9noBh/6DoQP0ErofXaU5UVdIyHh0ruEK6u7oczvBkzDkWNW9kXuXX01cbvFg2q9rNkUT8nWhoKz5inW/9s=
    # DOCKER_PASS
    - secure: m/lOe+O0eWnvDPfipqLbTOviGagzDJYe1eFb9arcKSDL4JkisavWbLhjCEPM2o+VS07Z1aV82uXyWSuIpPY2OPSzD8ka1tCuLGPBkpwmKY7a0+w/OGKANrjecDMQhHzB753nWAmqyEZ0Lk6gZ/MBPv2Wi0OeeoJaqFpX1JgznLuFZPrIlycU3iH7amBNNCR1Rq2eM6cMPo3M9Jc+kwM0IFfiNtRoGuhr2/qroYwnfIqnTGIlmRHEa7lfNBYyIAk91A9jyPAoWs255wZglsJqzvSIY5DYqtDe4USRIDcx/25EKN5GvahSrGXvYfglyLkxFsnYssjG00xpxfCD08tZGZ2TN2jHPK7uk3sziMKvDJNszNkotdbOY9C55D1MSLeXFMbXSzAjhmnEOq/CKRfd4bHkxC+4nNxvmq29UkX19DpQaDfDkN17g+8ck1a+myQHRJKfW/aH5k/c9CJk83gaTy+5xIHwWptlYsNBzgSQKS5ZS56wCpPle5Oh+QiaEhPu/57abXUIqSf4IAKFFu8jIUNK/VK4K0QhrxOV6abwR4xODHyUjkp03zwvqtI+ZMuAuFJykpchIkXYf8AHJHV3iV58UkBjVdpx/7yx/n0VfhwXmOhtud208kNYFTPqp2WuAoSHdjUQ8LT6HOg+HlKWGu5luWvOWGxJHBXzr37ytD8=
    # IMAGE_REPO
    - secure: DvcTATAEKJ2GR2Pd8lCOyxIaAlaI7tcsz4vtFyxxoowUAEh0+F6lQGrCLEHZxj2ylm7/jg9815vhMQQLkoWMkp/u3ZQ9kp6jTLqkggkXhSw7lTGyiVOyp2yxJ/1QcZrm3FYaG22k/ueLMaGAaDY9I7+zil4G14U0as3az2e+zK8FFzEHuxjUU4nGGk8OyH8GiYBy3li8N7MMeHt6fu6HhsUeAF6PZhnH8J58f7KUaPr0alEWncaxs8WWDf4p6Tm4y4H0lt2WglFm7eiwVzsctHJIjqeJoOVeNljE+B4h40zsJ3ATYeYToWwYdiDv1vKzlre8pHplyJvacijTipu0UA8Oa8oAFWjsrhetwzJgTdHC75IiFguwea0Tu41jkkBy6TV8qKyE74+Ox1sVYa/CzeDctyis5eUm/ip2NMNLxaLz5HWao3u7NQf2bzq3d/WeEubhXZ3SwwEs1RcI0qUjEr/injphH6RgFlwFo/BfjoO3ts0UW6mcbeIR2T/BQYcBwFaxMToEvTUMEoYcRJM5gDEtG/eeNLoeqXiP+AJBgWEx0XrUOF1765vSrEpDD775ALC3sBF4vY58OUaU25Dls2s+OtXfFscEwX6S6PAoUK+fuey0lTIc7OwudugQ5dePuurkWo8eHgsWngh+yIqRMYSdap1AspPNVrVufX427EU=
before_install:
- docker login -u "${DOCKER_USER}" -p "${DOCKER_PASS}"
- docker pull ${IMAGE_REPO}
- docker build --no-cache --rm --tag ${IMAGE_REPO}:latest ./docsbox
- docker push ${IMAGE_REPO}:latest
script:
- docker-compose run web nosetests
