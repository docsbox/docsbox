sudo: required
language: python
services:
- docker
env:
  global:
  # DOCKER_USER
  - secure: ng7qg5pzuwM25S43+cQ9Qh0YbkfqNT21LYa0odaVfW+iD1KULOBzcMY89Qq/VA51QRD6Z06fbX0RUPtVa9IRdKqWi6aL8oJCTlIAWd4gWc7SxYbnk4jN+jtQQQCbCfhR2eHQ74GItxj2l889BghzFNQb6HOz7k8J81KMKwem2/FblvfVqFghSmRZ7rMUbTdfWCGLhRr2rJ7BbXJ8D/LrdhykbaJjofWSqJkWidLTUTBEAp+dpV3sp3CMMUz9WmaxaD/RmMWJ1WSHiILMPJmL0AP2ueqt0vE8RYPieGXhU+bmjUSD1l9pBNuh9/cvO1QWi8JzdND1OIDsyVU29gmwkovhZouxIB/rGY9c8YHWHqT4mLjTuQuU5yByKYc7OrGuO/vpm5T+WaKxj+hoNUX1VXFosGDbAbK8qOAoLLvANwnLGU+iMqbSqHNBFGY1EBSnlbWgmjnQ0gqi+YRW3JgkBvRYuJ7BQIzIeQoEuPk/Kf/hJ4s209botScM1O7y5MaQXU0mh18ZtvemN8w8tAjDnMsKojVkzMe7/CtEbMOchBhjIXkIds07lASULwYS8BvXzYLpKiKzzoyTfJ6ybfRuoEd/RaNmvmr6aZNZlZrQR4ejgTJESiVnJkFWld+AKYG+0UmZirBx0slsuySgNGpmowgcKPdRHCRvhiY4GXrTr5g=
  # DOCKER_PASS
  - secure: boadeYn9dvOVWscGPl8MclMWs+3APnUc74EUm4qxzFmatEm9X2FUxgdCkOksA68paOcwAqQDZie1DLIwbupINN/Ka7uGwH+gNlgoBIFkVo2DYTnyL3mVAXDwbFNIjG7ajzgEZC91X4ja4USkwS81sjrXU9zof4JxBxqbr83dixdMmxWNAEI7zpYA8/97tWOqu+aDm+1K5PAh/vrIQttFGmVwh90HRVQQ/wsA/HsH3UtwBYSYdURs9g/zTW23fADJf5RsoUTw8488DIfJexXssCSAghtxYStdTN5IkfRDN2iyJk6K0/NkkyzWIlSm99ykjJYN4jRb+3f+DG3mEQT1iWasM2JYYlhVd9Feakebaer47gO/Dg5iV7v0b/QpwJRkYHf650DCpZkEB/8y2PUd1FQLP/O97mLIxzZ0vvdF9qlTrc3VNFVz+t06zp3TRZJxeKLq60iqhUpqa5vQ4mYiLrJ4xwrDfpKJkihIMCau0Blc4yA4qaSESXVvsZ38HyrgmyDooHhJ8ArKqxbcCYqkPoiuTGdOCWo+moaoHnfj7jpI6AsVgoDrviqKxBRpi7JV+IpimamWZG/liUKghSVWjOiIIIDLSxV5sJdFGvOlD6MY8NDI1RglGM3fmC1at4qWPQVzMqQmBqzwAj/Vuk1n0nSqEZaH/Ci5zdILKSqjHlo=
  # IMAGE_REPO
  - secure: ELhN67w744U/8uNIIrXmvRCsaA57Upx6/n874U45IaY3ki/XGApwXfwB4y+x2in5Z9ytuMd0ItNdCZWATycJPKOygHdi1d6ktqOBAiTGPX9jbM3ZlQDF3GwjAyOLQyequQroflwfxJzav6/NrbLVb6q6EBVh5tmSAGGWvzEfF8GRQYVYQLubmq76ftooOGYh6LWWb2Ut8L7Q3m7e6ebUrnkvcrqNOc2Nel7D+C99HHNX/o/3GV7/3cxq/wMey/8M0fpDqEBvI+K1F0YjMBFPq2P2svdAcqoqowVBPzA7duOgI60gmAb8KclayeD7QDxrWa4YhSetyUs/BmmB9/hDSuRoKLcf0bXCtSg7vhoi6PeapC72Ml+vknQFoZrRLsl5xScFCuweMaaEMXUb0w6Rx72C0UBGJttvnwfY4QQ2xEihFBFKVEc3eC3CJH6pYqll4Jbr8qt2ijcDdFmYBWkQK1Cnz2EjQDUARgckwk19MfqxfFNObctHmolB3QK1Jna+U+iYaM/yMdtii3R5UXW/OyzDZc/JPqiPSTuNagvVIqqXE3PTrMqUV0hu7zQMLS8shXqIIA7cy6IXeDLLaE0gs5z1c/AJhfa+EUqmhmquCph0R9+YhazWGC9rhI5BE1GryoRidA2y/oyR4nLUoc8Vt3yqLqgS7bgRoEzrHpuI3NM=
before_install:
- docker login -u "${DOCKER_USER}" -p "${DOCKER_PASS}"
- docker pull ${IMAGE_REPO}
- docker build --no-cache --rm --tag ${IMAGE_REPO}:latest ./docsbox
- docker push ${IMAGE_REPO}:latest
script:
- docker-compose run web nosetests
