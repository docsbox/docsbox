sudo: required
language: python
services:
- docker
env:
  global:
  #DOCKER_USER
  - secret: WvMWtoHh/v5m2UNqmGDMxD3hbwsfG4Alnoo+AHQ21UAldNrMRfen3KkqksBXCFYkaRxBvByxiQc63MjTybZTrqzVhXJpJ32GLrzEy/bbeTDSTqVDk7ikrw/3Py3e6cMD5Yvleicg0PBngkM9NjQfGIXWw5gGltlwATgwkSvBup56CSxL8m5us/xlEukdDCsGJKa2/Juq70BGM0s2Y2CES+zhoWoXVL+zRi+yIDwXZ/bbbftKuX3a8FBMOdW1/0ibekisbDEiRJ2p6CawRhG10tG7zMHRZkhbAvIYyzIi+pI9iadDPY27SPuUjKN31H5Sl3TlY7+n6M/FyvD97tVYI53PLayIyCtoc6MaXaKmF/PFvRxaS2CARe/gxP27m3E3sK4w/LXUKBvjBEOBmRaHHdkE/A1gcKcP+KkLTplics8FDgtub/eimYtUVKB2FWA4YAzBCF7SUmn/wlQPtUt4XIGXOgp57PmHjp9lWta1ZidRJ337WchtqS43lvzm9RT9CybtgG3o9o0IUpdYpas1cCi6IEl0w5drqfvlM1LlWWTdlWhz65phSC0BmBvqdsigMVpomFXEjubypVSn0wZ9yS6PVC9xynOBTz4gA+NPHqbYAysS4kpXCUZ0VJ5XLU7eV5yT3t0rctWPOaNHRq7CSNGrSahM7yF7GlFBVRZlcGY=
  #DOCKER_PASS
  - secure: m/lOe+O0eWnvDPfipqLbTOviGagzDJYe1eFb9arcKSDL4JkisavWbLhjCEPM2o+VS07Z1aV82uXyWSuIpPY2OPSzD8ka1tCuLGPBkpwmKY7a0+w/OGKANrjecDMQhHzB753nWAmqyEZ0Lk6gZ/MBPv2Wi0OeeoJaqFpX1JgznLuFZPrIlycU3iH7amBNNCR1Rq2eM6cMPo3M9Jc+kwM0IFfiNtRoGuhr2/qroYwnfIqnTGIlmRHEa7lfNBYyIAk91A9jyPAoWs255wZglsJqzvSIY5DYqtDe4USRIDcx/25EKN5GvahSrGXvYfglyLkxFsnYssjG00xpxfCD08tZGZ2TN2jHPK7uk3sziMKvDJNszNkotdbOY9C55D1MSLeXFMbXSzAjhmnEOq/CKRfd4bHkxC+4nNxvmq29UkX19DpQaDfDkN17g+8ck1a+myQHRJKfW/aH5k/c9CJk83gaTy+5xIHwWptlYsNBzgSQKS5ZS56wCpPle5Oh+QiaEhPu/57abXUIqSf4IAKFFu8jIUNK/VK4K0QhrxOV6abwR4xODHyUjkp03zwvqtI+ZMuAuFJykpchIkXYf8AHJHV3iV58UkBjVdpx/7yx/n0VfhwXmOhtud208kNYFTPqp2WuAoSHdjUQ8LT6HOg+HlKWGu5luWvOWGxJHBXzr37ytD8=
  #IMAGE_REPO
  - secure: DvcTATAEKJ2GR2Pd8lCOyxIaAlaI7tcsz4vtFyxxoowUAEh0+F6lQGrCLEHZxj2ylm7/jg9815vhMQQLkoWMkp/u3ZQ9kp6jTLqkggkXhSw7lTGyiVOyp2yxJ/1QcZrm3FYaG22k/ueLMaGAaDY9I7+zil4G14U0as3az2e+zK8FFzEHuxjUU4nGGk8OyH8GiYBy3li8N7MMeHt6fu6HhsUeAF6PZhnH8J58f7KUaPr0alEWncaxs8WWDf4p6Tm4y4H0lt2WglFm7eiwVzsctHJIjqeJoOVeNljE+B4h40zsJ3ATYeYToWwYdiDv1vKzlre8pHplyJvacijTipu0UA8Oa8oAFWjsrhetwzJgTdHC75IiFguwea0Tu41jkkBy6TV8qKyE74+Ox1sVYa/CzeDctyis5eUm/ip2NMNLxaLz5HWao3u7NQf2bzq3d/WeEubhXZ3SwwEs1RcI0qUjEr/injphH6RgFlwFo/BfjoO3ts0UW6mcbeIR2T/BQYcBwFaxMToEvTUMEoYcRJM5gDEtG/eeNLoeqXiP+AJBgWEx0XrUOF1765vSrEpDD775ALC3sBF4vY58OUaU25Dls2s+OtXfFscEwX6S6PAoUK+fuey0lTIc7OwudugQ5dePuurkWo8eHgsWngh+yIqRMYSdap1AspPNVrVufX427EU=
before_install:
- docker login -u ${DOCKER_USER} -p ${DOCKER_PASS}
- docker pull ${IMAGE_REPO}
- docker build --no-cache --rm --tag ${IMAGE_REPO}:latest ./docsbox
- docker push ${IMAGE_REPO}:latest
script:
- docker-compose run web nosetests
